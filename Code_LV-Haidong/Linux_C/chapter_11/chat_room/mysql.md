使用事物 transaction

mysql刷新权限命令：FLUSH PRIVILEGES;（一般用于数据库用户信息更新后）


mysql 使用md5 加密
格式可以直接使用 md5('');

----------------------------------------------------------------------------------------------------------------------------------------------
mysql 的结果集

mysql_use_result()将初始化结果集检索，但并不像mysql_store_result()那样将结果集实际读取到客户端。
它必须通过对mysql_fetch_row()的调用，对每一行分别进行检索。这将直接从服务器读取结果，而不会将其保存在临时表或本地缓冲区内
，与mysql_store_result()相比，速度更快而且使用的内存也更少。
客户端仅为当前行和通信缓冲区分配内存，分配的内存可增加到max_allowed_packet字节。
----------------------------------------------------------------------------------------------------------------------------
结果集的列数目由mysql_num_fields(result)给出。如果行中保存了调用mysql_fetch_row()返回的值，
将按照row[0]到row[mysql_num_fields(result)-1]，
访问这些值的指针。行中的NULL值由NULL指针指明。

可以通过调用mysql_fetch_lengths()来获得行中字段值的长度。对于空字段以及包含NULL的字段，长度为0。
通过检查字段值的指针，能够区分它们。如果指针为NULL，字段为NULL，否则字段为空。

-------------------------------------------------------------------------------------------------------------------------------
释放由mysql_store_result()、mysql_use_result()、mysql_list_dbs()等为结果集分配的内存。
完成对结果集的操作后，必须调用mysql_free_result()释放结果集使用的内存。
释放完成后，不要尝试访问结果集。永远记得要释放结果集！！！


结果集可以得到整个表的行和列其中的内容

可以根据mysql_num_rows()来找出结果集的行数.

可以调用mysql_fetch_row()来获取结果集中的行,或者调用mysql_row_seeek()和mysql_row_tell()来进行获取或者设置结果集当中的行位置

mysql_store_result(&mysql)告诉句柄mysql，把查询的数据从服务器端取到客户端，然后缓存起来，放在句柄mysql里面；

mysql_store_result()将查询的全部结果读取到客户端，分配1个MYSQL_RES结构，并将结果置于该结构中。获得全部的查询结果

----------------------------------------------------------------------------------------------------------------------

###因为mysql_real_query  这个函数在使用的过程中，如果是同一进程之中
再次使用select进行查看的时候会遇到错误,因为句柄之中的结果集并没有被释放，依然被下次所读取
所以需要释放一次结果集....

结果集的函数为       MYSQL_RES * result;        
result = mysql_store_result(&conn);//从句柄之中读取
之后则需要释放结果集   mysql_free_result(result);

--------------------------------------------------------------------------------------------------------------------------------------------

启动服务:

systemctl start mysql

登录:

mysql -h 主机名 -u 用户名 -p

mysql -p -u root

要连接到远程主机的MySQL数据库的话，只需要在加上-h参数，再加上远程主机的主机名或者IP地址就可以了，类似如下：

mysql -h 202.116.96.96 -u root -p

--------------------------------------------------------------------------------------------------------------------------------------
查看已有数据库:

show databases;

创建数据库:

create database 数据库名;

选择要操作的数据库:

use 数据库名[;] // 加不加分号都可以

查看数据库中的表:

show tables;

在数据库中创建数据库表:

create table 数据库表名(列声明);

  create table network3
      -> (
      -> id char(10) not null primary key,
      -> name char(16) not null,
      -> sex char(6) not null,
      -> age int not null,
      -> address char(36) not null
      -> );
  id char(10) not null primary key    
  创建一列，名称为id；数据类型为char字符类型，字符的最大长度为10个字符；并且该列内容不允许为空；同时把这一列作为这张表的主键，用来区分表中不同行。
  name char(16) not null  
  创建一列，名称为name；数据类型为char字符类型，字符的最大长度为16个字符；并且该列内容不允许为空。
  sex char(6) not null    
  创建一列，名称为sex；数据类型为char字符类型，字符的最大长度为6个字符；并且该列内容不允许为空。
  age int not null    
  创建一列，名称为age；数据类型为int整型；并且该列内容不允许为空。
  address char(36) not null   
  创建一列，名称为sex；数据类型为char字符类型，字符的最大长度为36个字符；并且该列内容不允许为空。
   每一列的名称必须是不相同的才行
-----------------------------------------------------------------------------------------------------------------------------------------
查询数据库表的详细信息的（只包括表头，并不包含内容）:

describe 数据库表名;

向数据表中添加数据:

insert into 数据库表名 values(value值1,value值2,.......);

eg> insert into network3 values("3114006441", "xpleaf","male",

35,"QingYuan");

------------------------------------------------------------------------------------------------------------------------------
可以指定向特定的列中插入数据:

insert into 数据库表名 (列名1,列名2,...） values(value值1,value值2,...);

查询数据库表中的数据:

select 列名称 from 数据库表名 [查询条件];

eg> select * from network3; //  * 是一个通配符，它表示任意匹配

eg> select id ,name from network3;

-------------------------------------------------------------------------------------------------------------------------------------------
按特定条件查询表中数据:

select 列名称 from 数据库表名 where 查询条件;

eg> select * from network3 where age < 40 and age >= 31;

eg> select * from network3 where name like "%leaf";

　　　// "%" 任意数量的任意字符
---------------------------------------------------------------------------------------------------------------------------------------------
修改数据库中表的数据:

update 数据库表名 set 列名=新value [where 更新条件];

eg> update network3 set age=age+1;

eg> update network3 set name="Hui" where id='3214006336';

------------------------------------------------------------------------------------------------------------------------------------------------

删除数据库表中的数据:

delete from 数据库表名 where 删除条件;

eg> delete from network3 where name = 'jim';

// 似乎会忽略大小写  
------------------------------------------------------------------------------------------------------------------------
删除表中所有数据(表还在):

delete from 数据库表名;

修改数据库表中的列:

alter table 数据库表名 change 列名称 新数据类型 [其它];

eg> alter table network3 change address addr char(30) not null;

eg> alter table network3 change name name char(20) not null;

eg> alter table network3 change sex Sex char(10) not null;

----------------------------------------------------------------------------------------------------------------------
删除数据库中表的列:

alter table 数据库表名 drop 列名称;

重命名数据库表:

alter table 旧名 rename 新名;

删除数据库表:

drop table 数据库表名;

删除数据库:

drop database 数据库名;
--------------------------------------------------------------------------------------------------------------------------
修改数据库登录密码:

mysqladmin -r root -p password 新密码

// 在未登陆MySQL数据库之前进行的操作

在登陆MySQL数据库时指定要操作的数据库:

mysql -D 选择要操作的数据库名 -h 主机名 -u root -p

通过文件的方式创建数据库表:

mysql -D 选择要操作的数据库名 -h 主机名 -u root -p < .sql类型文件

导入数据库数据:

source PATH;

--------------------------------------------------------------------------------------------------------------------------
mysql命令行中执行多行命令时，如果前边输入的命令发生错误，是很令人头疼的事情，可以通过输入\c来取消前边的输入，重新进入“mysql->”提示符。

但是如果前边输入的东西很多，直接取消又很可惜的，因为得重新敲打指令，这种情况下，可以通过输入\p，然后在命令行客户端右键，选择“标记”，就可以选择要复制的内容，选择好后，按Enter，即可将选择的内容复制到剪切板，接着输入\c，再粘贴，修改，执行命令。  即输入\p→右键鼠标选择“标记”→选择要复制的内容→按Enter键→输入\c→右键鼠标选择“粘贴”，然后修改即可。

我们知道在mysql中输入“\c可以退出当前语句，但是在这里如果我们只是输入\c并不会退出，是因为没有保持当前输入语句完整匹配，这种情况下需要输入'\c才会退出。


重要事项
一定要记住，SQL 对大小写不敏感！


